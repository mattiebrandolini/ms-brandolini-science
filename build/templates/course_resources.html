{% extends "base.html" %}

{% block body_attrs %} class="cv-page"{% endblock %}

{% block body %}
<div class="cv-topbar">
    <button class="cv-sidebar-toggle" id="cv-sidebar-toggle">☰</button>
    <a href="../../student/" class="cv-topbar-back">← Courses</a>
    <span class="cv-topbar-title">{{ course.icon }} {{ course.title }}</span>
    <div class="cv-topbar-spacer"></div>
    <div class="cv-topbar-filters"></div>
    <input type="text" class="cv-topbar-search" placeholder="Search topics..." aria-label="Search topics">
    <span id="cv-cc-container" style="display:none"><button id="cv-cc-filter" class="cv-cc-btn" title="Show only captioned resources">CC</button></span>
</div>
<nav class="cv-sidebar" aria-label="Unit navigation"></nav>
<div class="cv-main">
    <div class="cv-loading" aria-live="polite">
        <div class="cv-spinner"></div>
        <p>Loading {{ course.title }} resources…</p>
    </div>
    <noscript>
        <div class="cv-error">
            <h2>{{ course.title }} Resources</h2>
            <p>This page needs JavaScript to display resources interactively. You can access the full resource list directly:</p>
            <p><a href="{{ course.sheet_url }}" class="cv-retry" style="text-decoration:none;display:inline-block">Open resource list →</a></p>
        </div>
    </noscript>
</div>
<footer class="cv-footer">
    <span>Last updated {{ build_date }}</span>
    <span class="cv-footer-sep" aria-hidden="true">·</span>
    <a href="https://github.com/mattiebrandolini/ms-brandolini-science/issues/new?title=Broken+link+in+{{ course.title | urlencode }}&labels=broken-link&body=Page:+{{ course.slug }}%2Fresources%0AWhich+link+is+broken%3F+" class="cv-footer-link">Report a broken link</a>
</footer>
{% endblock %}
